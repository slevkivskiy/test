name: üêç Python CI Check

# –ö–æ–ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç–∏: –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –ø—É—à—ñ –≤ –≥—ñ–ª–∫—É main
on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
    # 1. –°–∫–∞—á–∞—Ç–∏ —Ç–≤—ñ–π –∫–æ–¥
    - uses: actions/checkout@v3

    # 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Python
    - name: Set up Python 3.11
      uses: actions/setup-python@v4
      with:
        python-version: "3.11"

    # 3. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏)
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        # –Ø–∫—â–æ –Ω–µ–º–∞—î requirements.txt, –≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –≤—Ä—É—á–Ω—É –æ—Å–Ω–æ–≤–Ω–µ, —â–æ–± —Ç–µ—Å—Ç –Ω–µ –≤–ø–∞–≤
        pip install aiogram requests python-dotenv groq prometheus-client

    # 4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏ (—Ç–æ–π —Å–∞–º–∏–π SyntaxError)
    - name: Check for Syntax Errors
      run: |
        # –¶—è –∫–æ–º–∞–Ω–¥–∞ –∫–æ–º–ø—ñ–ª—é—î –∫–æ–¥, –∞–ª–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞—î –π–æ–≥–æ. 
        # –Ø–∫—â–æ –ø—Ä–æ–ø—É—Å—Ç–∏–≤ –¥—É–∂–∫—É ‚Äî —Ç—É—Ç –≤–∏–ª–µ—Ç–∏—Ç—å –ø–æ–º–∏–ª–∫–∞.
        python -m py_compile bot.py
        echo "‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤ –ø–æ—Ä—è–¥–∫—É!"

